<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../stylesheets/main.scss">
</head>
<body>
    <section class="login-form">
        <div class="wrapper">
            <form action="#">
                <figure>
                    <img src="/src/assets/images/home_logo.png" alt="Logo" id="logo">
                </figure>
                <div class="input-field">
                    <input type="text" id="email" required>
                    <label>Email</label>
                    <div class="field-error"></div>
                </div>
                <div class="input-field">
                    <input type="password" id="password" required>
                    <label>Password</label>
                    <div class="field-error"></div>
                </div>
                <div class="forget">
                    <label for="remember">
                        <input type="checkbox" id="remember">
                        <p>Save information</p>
                    </label>
                    <a href="#">Forgot Password</a>
                </div>
                <button type="submit">Log in</button>
                <div class="register">
                    <p class="account">No account yet? <a href="/src/pages/signin/signin.html">Sign up</a></p>
                </div>
            </form>
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const logo = document.querySelector('#logo');
            const form = document.querySelector('.login-form form');
            const emailInput = document.querySelector('#email');
            const passwordInput = document.querySelector('#password');
            const errorFields = document.querySelectorAll('.field-error');

            // Kiểm tra phần tử tồn tại
            if (!logo || !form || !emailInput || !passwordInput || errorFields.length !== 2) {
                console.error('One or more elements not found!');
                return;
            }

            // Xử lý click logo
            logo.addEventListener('click', () => {
                window.location.href = '/src/pages/main.html';
            });
            
            form.addEventListener('submit', (e) => {
                e.preventDefault(); // Ngăn submit mặc định

                const email = emailInput.value.trim();
                const password = passwordInput.value;

                errorFields.forEach(field => {
                    field.textContent = '';
                    field.style.display = 'none';
                });

                let hasError = false;

                // Kiểm tra Email
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    errorFields[0].textContent = 'Please enter a valid Email!';
                    errorFields[0].style.display = 'block';
                    hasError = true;
                }

                // Kiểm tra Mật khẩu
                if (password.length < 6) {
                    errorFields[1].textContent = 'Password must be at least 6 characters!';
                    errorFields[1].style.display = 'block';
                    hasError = true;
                }

                if (hasError) return;

                window.location.href = '/src/pages/main.html';
            });
        });
    </script>

</body>
</html>